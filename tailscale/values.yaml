# Tailscale Operator Configuration
# Provides secure remote access to your k3s cluster

tailscale-operator:
  # OAuth configuration
  # REQUIRED: Create OAuth client at https://login.tailscale.com/admin/settings/oauth
  # Steps:
  # 1. Go to https://login.tailscale.com/admin/settings/oauth
  # 2. Click "Generate OAuth Client"
  # 3. Add tags: tag:k8s, tag:homelab
  # 4. Copy Client ID and Client Secret below
  oauth:
    clientId: ""  # TODO: Set after creating OAuth client
    clientSecret: ""  # TODO: Set via secret or directly here
  
  # Operator configuration
  operatorConfig:
    # Hostname for the operator pod
    hostname: "k3s-operator"
    
    # Default tags for all Tailscale devices created by operator
    # Make sure these tags exist in your Tailscale ACL
    defaultTags:
      - "tag:k8s"
      - "tag:homelab"
    
    # Log level (info, debug, error)
    logging: "info"
  
  # API Server Proxy - Exposes Kubernetes API via Tailscale
  # Access kubectl from anywhere without VPN!
  apiServerProxyConfig:
    mode: "true"
    hostname: "k3s-api"
  
  # Ingress Proxy - Exposes ingress resources via Tailscale
  # Useful for accessing services remotely without exposing to internet
  ingressProxyConfig:
    mode: "true"
  
  # Resources
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi
  
  # RBAC
  rbac:
    create: true
  
  # Service Account
  serviceAccount:
    create: true
    name: tailscale-operator

# Optional: Subnet router configuration
# Uncomment to expose your entire k8s network via Tailscale
# subnetRouter:
#   enabled: true
#   routes:
#     - "10.0.1.0/24"  # Node network
#     - "10.43.0.0/16"  # Service network
#     - "10.42.0.0/16"  # Pod network

