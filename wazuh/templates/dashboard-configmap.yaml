apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "wazuh.fullname" . }}-dashboard-config
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "wazuh.labels" . | nindent 4 }}
    app.kubernetes.io/component: dashboard
data:
  wazuh.yml: |
    hosts:
      - default:
          url: https://{{ include "wazuh.fullname" . }}-indexer
          port: 9200
          username: admin
          password: admin
          run_as: false
          timeout: 15
          ssl:
            verify_certificate: false
            verify_hostnames: false
  opensearch_dashboards.yml: |
    server.host: "0.0.0.0"
    server.port: 443
    opensearch.hosts: ["https://{{ include "wazuh.fullname" . }}-indexer:9200"]
    opensearch.username: "admin"
    opensearch.password: "admin"
    opensearch.ssl.verificationMode: "none"
    opensearch.requestHeadersWhitelist: ["authorization", "securitytenant"]
